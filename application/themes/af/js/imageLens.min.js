(function(e){e.fn.imageLens=function(t){var n={lensSize:100,borderSize:4,borderColor:"#888"};var t=e.extend(n,t);var r="background-position: 0px 0px;width: "+String(t.lensSize)+"px;height: "+String(t.lensSize)+"px;float: left;display: none;border-radius: "+String(t.lensSize/2+t.borderSize)+"px;border: "+String(t.borderSize)+"px solid "+t.borderColor+";background-repeat: no-repeat;position: absolute;";return this.each(function(){function l(e){var t=parseInt(e.pageX-n.left);var r=parseInt(e.pageY-n.top);if(t<0||r<0||t>obj.width()||r>obj.height()){i.hide()}else{i.show();t=String(((e.pageX-n.left)*a-i.width()/2)*-1);r=String(((e.pageY-n.top)*f-i.height()/2)*-1);i.css({backgroundPosition:t+"px "+r+"px"});t=String(e.pageX-i.width()/2);r=String(e.pageY-i.height()/2);i.css({left:t+"px",top:r+"px"})}}obj=e(this);var n=e(this).offset();var i=e("<div style='"+r+"' class='"+t.lensCss+"'>&nbsp;</div>").appendTo(e("body"));var s=i.size();var o=t.imageSrc?t.imageSrc:e(this).attr("src");var u="<img style='display:none;' src='"+o+"' />";var a=0;var f=0;e(u).load(function(){a=e(this).width()/obj.width();f=e(this).height()/obj.height()}).appendTo(e(this).parent());i.css({backgroundImage:"url('"+o+"')"});i.mousemove(l);e(this).mousemove(l)})}})(jQuery)